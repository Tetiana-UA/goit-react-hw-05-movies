"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[467],{713:function(e,t,r){r.d(t,{$w:function(){return f},Pg:function(){return o},Wf:function(){return p},Xj:function(){return h},z5:function(){return i}});var n=r(861),a=r(757),u=r.n(a),s=r(294),c="9d0df20d0e68b9609d989d5d76848891",i=function(){var e=(0,n.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/trending/movie/day",{params:{api_key:c}});case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t),{params:{api_key:c}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/search/movie",{params:{api_key:c,query:t}});case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits"),{params:{api_key:c}});case 2:return r=e.sent,e.abrupt("return",r.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews"),{params:{api_key:c}});case 2:return r=e.sent,console.log(r.data.results),e.abrupt("return",r.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},854:function(e,t,r){r.d(t,{a:function(){return u}});var n=r(154),a=r(184),u=function(){return(0,a.jsx)("div",{children:(0,a.jsx)(n.Bb,{height:"80",width:"80",radius:"9",color:"green",ariaLabel:"three-dots-loading",wrapperStyle:!0,wrapperClass:!0})})}},467:function(e,t,r){r.r(t),r.d(t,{MoviesPage:function(){return j}});var n="movies-page_wrapper__ez9yg",a=r(433),u=r(861),s=r(439),c=r(757),i=r.n(c),o=r(791),p=r(87),f=r(689),h=r(694),l=r.n(h),d={},m=r(942),v=r(413),g={form:"search-form_form__JRnjr",button:"search-form_button__L6NB4",input:"search-form_input__zLZVX"},b=r(184),x=function(e){var t=e.onSubmit,r=(0,o.useState)({search:""}),n=(0,s.Z)(r,2),a=n[0],u=n[1],c=(0,o.useRef)(null);(0,o.useEffect)((function(){c.current.focus()}),[]);var i=function(){u({search:""})},p=(0,o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")}),"")}()}),[]);return(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t((0,v.Z)({},a)),i()},className:g.form,children:[(0,b.jsx)("div",{className:g.fieldGroup,children:(0,b.jsx)("input",{id:p,ref:c,value:a.search,onChange:function(e){var t=e.target,r=t.name,n=t.value;u((0,v.Z)((0,v.Z)({},a),{},(0,m.Z)({},r,n)))},required:!0,type:"text",name:"search",className:g.input})}),(0,b.jsx)("button",{type:"submit",className:g.button,children:"Search"})]})},y="button_button__rr3yo",_=function(e){var t=e.onClick,r=e.type,n=void 0===r?"submit":r,a=e.children;return(0,b.jsx)("button",{onClick:t,className:y,type:n,children:a})},Z=r(854),w=r(713),k=function(){var e=(0,o.useState)([]),t=(0,s.Z)(e,2),r=t[0],n=t[1],c=(0,o.useState)(!1),h=(0,s.Z)(c,2),m=h[0],v=h[1],g=(0,o.useState)(null),y=(0,s.Z)(g,2),k=y[0],j=y[1],S=(0,o.useState)(!1),N=(0,s.Z)(S,2),C=N[0],L=N[1],q=(0,p.lr)(),z=(0,s.Z)(q,2),B=z[0],M=z[1],P=B.get("search"),R=B.get("page"),U=(0,f.TH)();(0,o.useEffect)((function(){var e=function(){var e=(0,u.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,(0,w.Wf)(P,R);case 4:if(0!==(t=e.sent)){e.next=7;break}return e.abrupt("return",l().Notify.failure("There are no images matching your search query. Please try again"));case 7:n((function(e){return t.length?[].concat((0,a.Z)(e),(0,a.Z)(t)):e})),20,r=Math.ceil(t/20),L(r>R),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),j(e.t0.message);case 16:return e.prev=16,v(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(){return e.apply(this,arguments)}}();P&&e()}),[P,R]);var E=r.map((function(e){var t=e.id,r=e.original_title;return(0,b.jsx)("li",{className:d.item,children:(0,b.jsx)(p.rU,{to:"/movies/".concat(t),state:{from:U},children:r})},t)})),T=Boolean(r.length);return(0,b.jsxs)("div",{className:d.app,children:[(0,b.jsx)(x,{onSubmit:function(e){var t=e.search;M({search:t,page:1}),n([])}}),k&&(0,b.jsx)("p",{children:k}),m&&(0,b.jsx)(Z.a,{}),T&&(0,b.jsx)("p",{children:E}),T&&C&&(0,b.jsx)(_,{onClick:function(){return M({search:P,page:Number(R)+1})},type:"button",children:"Load more"})]})},j=function(){return(0,b.jsx)("div",{className:n,children:(0,b.jsx)(k,{})})}}}]);
//# sourceMappingURL=467.9991d034.chunk.js.map